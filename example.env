# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL container credentials (used by Docker Compose to initialise the DB)
POSTGRES_USER=admin
POSTGRES_PASSWORD=password
POSTGRES_DB=qa_automation

# PostgreSQL connection settings for the Python backend
DB_HOST=localhost           # Hostname of the PostgreSQL server (use 'db' inside Docker)
DB_NAME=qa_automation       # Name of the database
DB_USER=admin               # Database user
DB_PASSWORD=password        # Database password
DB_PORT=5432                # PostgreSQL port (default: 5432)
DB_SSLMODE=disable          # SSL mode: disable | require | verify-full (use 'require' in prod)

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================

# Secret key used by Flask for session signing and CSRF protection
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your_flask_secret_key_here

# Secret key used for signing JWT access tokens
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET_KEY=your_jwt_secret_key_here

# Fernet key used to encrypt stored secrets (e.g. project API keys)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
SECRETS_ENCRYPTION_KEY=your_secrets_encryption_key_here

# Shared secret used to verify incoming GitHub webhook payloads
GITHUB_WEBHOOK_SECRET=your_github_webhook_secret_here

# =============================================================================
# COOKIE SETTINGS  (auth cookies)
# =============================================================================

# Set to 'true' in production (HTTPS only); keep 'false' for local HTTP dev
COOKIE_SECURE=false

# SameSite policy for auth cookies: Lax | Strict | None
# Use 'None' only when frontend and backend are on different domains (requires COOKIE_SECURE=true)
COOKIE_SAMESITE=Lax

# =============================================================================
# GITHUB OAUTH  (for "Login with GitHub" feature)
# =============================================================================

# OAuth App credentials — create one at https://github.com/settings/developers
GITHUB_CLIENT_ID=your_github_oauth_client_id_here
GITHUB_CLIENT_SECRET=your_github_oauth_client_secret_here

# =============================================================================
# GIT PROVIDER TOKENS  (for cloning private repositories)
# =============================================================================

# GitHub personal access token (classic) or fine-grained token
# Required for private GitHub repos; also raises API rate limits for public repos
# Scopes needed: repo (full control of private repositories)
GITHUB_TOKEN=your_github_token_here

# GitLab personal access token
# Required for private GitLab repos
# Scopes needed: read_repository
GITLAB_TOKEN=your_gitlab_token_here

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================

# Which LLM backend to use: google | ollama
LLM_PROVIDER=google

# --- Google Gemini ---
# Get your API key at https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=your_google_api_key_here

# --- Ollama (local/self-hosted) ---
# Model tag to use, e.g. llama3.1:8b, mistral, codellama
OLLAMA_MODEL=llama3.1:8b
# Base URL of your Ollama instance
OLLAMA_BASE_URL=http://localhost:11434

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Runtime environment: local | production
ENV=local

# Hostname shown in the Swagger/OpenAPI UI
API_HOST=localhost:5000

# Comma-separated list of origins allowed by CORS
# Example for production: https://yourapp.com
ALLOWED_ORIGINS=http://localhost:5173

# Public URL of the frontend (used in password-reset email links)
FRONTEND_URL=http://localhost:5173

# =============================================================================
# DOCKER EXECUTOR  (advanced — only needed for Docker-in-Docker / production)
# =============================================================================

# Absolute path on the HOST that is shared between the backend container and
# executor containers. Leave unset for standard local development.
SHARED_WORK_DIR=

# Named Docker volume used instead of a bind-mount when running in Docker.
# Leave unset for standard local development.
DOCKER_VOLUME_NAME=

# =============================================================================
# CACHE SETTINGS  (optional)
# =============================================================================

# Cache backend: simple (in-memory) | redis | filesystem
CACHE_TYPE=simple

# Default TTL for cached items in seconds
CACHE_DEFAULT_TIMEOUT=300

# Redis connection URL (only used when CACHE_TYPE=redis)
CACHE_REDIS_URL=redis://localhost:6379/0

# Directory for filesystem cache (only used when CACHE_TYPE=filesystem)
CACHE_DIR=/tmp/genai_qa_cache